"use strict";(self.webpackChunknetflix_clone=self.webpackChunknetflix_clone||[]).push([[852],{1526:function(e,s,n){n.d(s,{Z:function(){return N}});var i=n(4165),a=n(5861),t=n(885),c=n(2791),r=n(4613),o=n(867),l=n(6388),d=n(5168),m=n(4137),h=n(7237),u=n(2430),v=n(2811),p=n(6682),x=n(6338),j=n(9823),f=n(6783),g=n(184),N=function(e){var s=(0,c.useState)(!1),n=(0,t.Z)(s,2),N=n[0],Z=n[1],w=(0,r.P)(e.id),b=w.watchListToggleHandler,k=w.addMovieState,y=w.message,S=w.clearMessage;return(0,g.jsxs)(d.Z,{className:"modal-movie-detail",show:e.show,onClose:e.onClose,aniClassNames:f.As.movie,aniTiming:f.cE.movieAniTiming,children:[(0,g.jsxs)("div",{className:"top",children:[(0,g.jsxs)("div",{className:"poster-video-container",children:[(0,g.jsx)("div",{className:"bg-filter"}),(0,g.jsx)("video",{src:e.movie.trailer.file,autoPlay:e.show,loop:!0,muted:N,className:"poster-video"})]}),(0,g.jsxs)("div",{className:"intrt-btn-container",children:[(0,g.jsxs)("div",{className:"left",children:[(0,g.jsxs)(o.Z,{className:"btn-func-icon striking",element:"link",to:{pathname:"/watch",movie:e.movie},children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("span",{children:"Play"})]}),(0,g.jsx)(o.Z,{className:"btn-icon ".concat(k&&"added"),onClick:(0,a.Z)((0,i.Z)().mark((function s(){return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b(e.id);case 2:case"end":return s.stop()}}),s)}))),children:(0,g.jsx)(h.Z,{})}),(0,g.jsx)(o.Z,{className:"btn-icon",children:(0,g.jsx)(u.Z,{})}),(0,g.jsx)(o.Z,{className:"btn-icon",children:(0,g.jsx)(v.Z,{})})]}),(0,g.jsx)("div",{className:"right",children:(0,g.jsx)(o.Z,{className:"btn-icon",onClick:function(){if(!N)return Z(!0);Z(!1)},children:N?(0,g.jsx)(x.Z,{}):(0,g.jsx)(p.Z,{})})})]}),(0,g.jsx)(o.Z,{className:"btn-icon btn-close",onClick:e.onClose,children:(0,g.jsx)(j.Z,{})})]}),(0,g.jsxs)("div",{className:"bottom",children:[(0,g.jsxs)("div",{className:"description-container",children:[(0,g.jsxs)("div",{className:"detail-description",children:[(0,g.jsxs)("div",{className:"publish-info",children:[(0,g.jsxs)("span",{className:"matching",children:[e.movie.matching||"93%"," Match"]}),(0,g.jsx)("span",{className:"year",children:e.movie.year}),(0,g.jsx)("span",{className:"type",children:e.movie.isSeries?"Series":"Movie"}),(0,g.jsxs)("span",{className:"duration",children:[e.movie.duration," mins"]})]}),(0,g.jsxs)("div",{className:"category category-responsive",children:[(0,g.jsx)("div",{className:"cast",children:(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"Cast:"}),e.movie.casting||"Anh Tu, Diem My"]})}),(0,g.jsx)("div",{className:"genre",children:(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"Genre:"}),e.movie.genre]})}),(0,g.jsx)("div",{className:"adj",children:(0,g.jsxs)("p",{children:[(0,g.jsxs)("span",{children:["This ",e.movie.isSeries?"Series":"Movie"," is:"]}),e.movie.label||"Romantic, Heartbroken"]})})]}),(0,g.jsxs)("div",{className:"description-info",children:[(0,g.jsx)("p",{className:"warning",children:e.movie.warning||"Some audio languages may be pending: we're prioritizing the\n                safety of voice actors"}),(0,g.jsx)("p",{children:e.movie.desc})]})]}),(0,g.jsxs)("div",{className:"category",children:[(0,g.jsx)("div",{className:"cast",children:(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"Cast:"}),e.movie.casting||"Anh Tu, Diem My"]})}),(0,g.jsx)("div",{className:"genre",children:(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"Genre:"}),e.movie.genre]})}),(0,g.jsx)("div",{className:"adj",children:(0,g.jsxs)("p",{children:[(0,g.jsxs)("span",{children:["This ",e.movie.isSeries?"Series":"Movie"," is:"]}),e.movie.label||"Romantic, Heartbroken"]})})]})]}),(0,g.jsx)("div",{className:"episodes-container"})]}),(0,g.jsx)(l.f,{show:y.isShow,message:y.msg,onClose:S})]})}},8087:function(e,s,n){n.d(s,{Z:function(){return Z}});var i=n(4165),a=n(5861),t=n(885),c=n(2791),r=n(9434),o=n(4613),l=n(9508),d=n(1523),m=n(1526),h=n(867),u=n(5841),v=n(6388),p=n(7237),x=n(2430),j=n(2811),f=n(1131),g=n(4137),N=n(184),Z=function(e){var s=(0,r.v9)((function(e){return e.auth.token})),n=(0,o.P)(e.id),Z=n.watchListToggleHandler,w=n.addMovieState,b=n.message,k=(0,c.useState)(!1),y=(0,t.Z)(k,2),S=y[0],C=y[1],T=(0,l.x)(e.loading||!1),_=T.isLoading,A=T.sendRequest,M=(0,c.useState)(e.movie),L=(0,t.Z)(M,2),R=L[0],P=L[1],E=(0,c.useState)(!1),H=(0,t.Z)(E,2),O=H[0],z=H[1];(0,c.useEffect)((function(){if(!e.movie){var n=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A("".concat("https://johnny-netflix-app.herokuapp.com/api","/movies/").concat(e.id),"GET",null,{Authorization:"Bearer ".concat(s)});case 3:a=n.sent,P(a.movie),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}}),[A,s,e.id,e.movie]);return(0,N.jsxs)("li",{className:"movie-item ".concat(e.className),onMouseLeave:function(){C(!1)},children:[_&&(0,N.jsx)(u.Z,{asOverlay:!0,inherit:!0}),R&&(0,N.jsxs)(c.Fragment,{children:[!S&&(0,N.jsx)(d.rU,{to:{pathname:"/watch",movie:R},children:(0,N.jsx)("img",{src:R.image.file,className:"poster",alt:"movie poster"})}),S&&!O&&(0,N.jsx)("video",{className:"trailer-video ".concat(!S&&"deactive"),src:R.trailer.file,autoPlay:S,muted:!0,loop:!0}),(0,N.jsxs)("div",{className:"description ".concat(e.className),onMouseOver:function(){C(!0)},children:[(0,N.jsxs)("div",{className:"description__btn",children:[(0,N.jsxs)("div",{className:"left",children:[(0,N.jsx)(h.Z,{className:"btn-icon play-active",element:"link",to:{pathname:"/watch",movie:R},children:(0,N.jsx)(g.Z,{})}),(0,N.jsx)(h.Z,{className:"btn-icon ".concat(w&&"added"),onClick:(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(R._id);case 2:case"end":return e.stop()}}),e)}))),children:(0,N.jsx)(p.Z,{})}),(0,N.jsx)(h.Z,{className:"btn-icon",children:(0,N.jsx)(x.Z,{})}),(0,N.jsx)(h.Z,{className:"btn-icon",children:(0,N.jsx)(j.Z,{})})]}),(0,N.jsx)("div",{className:"right",children:(0,N.jsx)(h.Z,{className:"btn-icon",onClick:function(){z(!0)},children:(0,N.jsx)(f.Z,{})})})]}),(0,N.jsxs)("div",{className:"description__text",children:[(0,N.jsxs)("div",{className:"description__top",children:[(0,N.jsx)("span",{className:"description__match",children:"97% Match"}),(0,N.jsx)("span",{className:"description__limit",children:R.limit}),(0,N.jsxs)("span",{className:"description__duration",children:[R.duration," mins"]})]}),(0,N.jsx)("div",{className:"description__bottom",children:(0,N.jsx)("span",{className:"description__genre",children:R.genre})})]})]})]}),R&&(0,N.jsx)(m.Z,{show:O,onClose:function(){z(!1)},id:e.id,movie:R}),(0,N.jsx)(v.f,{show:b.isShow,message:b.msg})]},e.id)}},6852:function(e,s,n){n.r(s),n.d(s,{default:function(){return u}});var i=n(4165),a=n(5861),t=n(885),c=n(2791),r=n(8931),o=n(9434),l=n(4245),d=n(8087),m=n(9508),h=n(184),u=function(e){var s=(0,o.v9)((function(e){return e.auth.token})),n=(0,m.x)(),u=n.isLoading,v=n.sendRequest,p=(0,c.useState)([]),x=(0,t.Z)(p,2),j=x[0],f=x[1],g=(0,r.TH)().search,N=l.parse(g).q;return(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("".concat("https://johnny-netflix-app.herokuapp.com/api","/movies?search=").concat(N),"GET",null,{Authorization:"Bearer ".concat(s)});case 2:n=e.sent,f(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,v,s]),(0,h.jsx)("div",{className:"searchResult-container",movies:j,children:(0,h.jsxs)("ul",{className:"searchResult-list",children:[0!==Object.keys(j).length&&j.movies.map((function(e){return(0,h.jsx)(d.Z,{className:"large",movie:e,id:e.id,loading:u},e.id)})),j.message&&(0,h.jsx)("div",{className:"searchResult-msg",children:"Oops, no movie found. Please, search movies by the title!"})]})})}},6388:function(e,s,n){n.d(s,{f:function(){return c}});n(2791);var i=n(6783),a=n(5168),t=(n(867),n(184)),c=function(e){return(0,t.jsx)(a.Z,{element:"message",contentClass:e.contentClass,show:!!e.show,message:e.message,aniClassNames:i.As.popup,aniTiming:i.cE.popupAniTiming,children:(0,t.jsx)("p",{children:e.message})})}},4613:function(e,s,n){n.d(s,{P:function(){return m}});var i=n(1413),a=n(4165),t=n(5861),c=n(885),r=n(2791),o=n(9434),l=n(9508),d=n(9910),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=(0,o.I0)(),n=(0,o.v9)((function(e){return e.auth.token})),m=(0,o.v9)((function(e){return e.auth.watchlist})),h=(0,l.x)(),u=h.sendRequest,v=(0,r.useState)(m.some((function(s){return s===e}))),p=(0,c.Z)(v,2),x=p[0],j=p[1],f=(0,r.useState)({msg:void 0,isShow:!1}),g=(0,c.Z)(f,2),N=g[0],Z=g[1],w=(0,r.useCallback)((0,t.Z)((0,a.Z)().mark((function i(){var t,c;return(0,a.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,x){i.next=10;break}return i.next=4,u("".concat("https://johnny-netflix-app.herokuapp.com/api","/users/watchlist/add"),"PATCH",JSON.stringify({movie:e}),{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"});case 4:(t=i.sent).movieIsExisted||(s(d.v.setWatchList(t.watchList)),console.log("Added movie to watch list")),j(!0),Z({msg:t.message||"Added movie to watch list",isShow:!0}),i.next=16;break;case 10:return i.next=12,u("".concat("https://johnny-netflix-app.herokuapp.com/api","/users/watchlist/remove"),"PATCH",JSON.stringify({movie:e}),{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"});case 12:(c=i.sent).movieIsExisted||(s(d.v.setWatchList(c.watchList)),console.log("Removed movie from watch list")),j(!1),Z({msg:c.message||"Removed movie from watch list",isShow:!0});case 16:b(),i.next=22;break;case 19:throw i.prev=19,i.t0=i.catch(0),i.t0;case 22:case"end":return i.stop()}}),i,null,[[0,19]])}))),[x,s,u,n,e]);function b(){var e=setTimeout((function(){Z((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isShow:!1})}))}),3e3);return function(){return clearTimeout(e)}}return{watchListToggleHandler:w,addMovieState:x,message:N,clearMessage:b}}}}]);
//# sourceMappingURL=852.2dd720d1.chunk.js.map